/* SIMATIC IT Unified Architecture Foundation V2.0 | Copyright (C) Siemens AG 2017. All Rights Reserved. */
!function(a,b){"use strict";var c="asc",d=/<.+>/,e=/(\([^)]*\))?$/,f=/\./g,g=/'/g,h=/^(.*)((?:\s*\[\s*\d+\s*\]\s*)|(?:\s*\[\s*"(?:[^"\\]|\\.)*"\s*\]\s*)|(?:\s*\[\s*'(?:[^'\\]|\\.)*'\s*\]\s*))(.*)$/;a.ngGrid={},a.ngGrid.i18n={};var i=(angular.module("ngGrid.services",[]),angular.module("ngGrid.directives",[])),j=angular.module("ngGrid.filters",[]);angular.module("ngGrid",["ngGrid.services","ngGrid.directives","ngGrid.filters"]);var k=function(a,b,c,d){if(void 0===a.selectionProvider.selectedItems||d.config.noKeyboardNavigation)return!0;if("INPUT"===document.activeElement.tagName)return!0;var e,f=c.which||c.keyCode,g=!1,h=!1,i=void 0===a.selectionProvider.lastClickedRow?1:a.selectionProvider.lastClickedRow.rowIndex,j=a.columns.filter(function(a){return a.visible&&a.width>0}),k=a.columns.filter(function(a){return a.pinned});if(a.col&&(e=j.indexOf(a.col)),37!==f&&38!==f&&39!==f&&40!==f&&(d.config.noTabInterference||9!==f)&&13!==f)return!0;if(a.enableCellSelection){9===f&&c.preventDefault();var l=a.showSelectionCheckbox?1===e:0===e,m=1===e||0===e,n=e===j.length-1||e===j.length-2,o=j.indexOf(a.col)===j.length-1,p=k.indexOf(a.col)===k.length-1;if(37===f||9===f&&c.shiftKey){var q=0;l||(e-=1),m?l&&9===f&&c.shiftKey?(q=d.$canvas.width(),e=j.length-1,h=!0):q=d.$viewport.scrollLeft()-a.col.width:k.length>0&&(q=d.$viewport.scrollLeft()-j[e].width),d.$viewport.scrollLeft(q)}else(39===f||9===f&&!c.shiftKey)&&(n?o&&9===f&&!c.shiftKey?(d.$viewport.scrollLeft(0),e=a.showSelectionCheckbox?1:0,g=!0):d.$viewport.scrollLeft(d.$viewport.scrollLeft()+a.col.width):p&&d.$viewport.scrollLeft(0),o||(e+=1))}var r;r=a.configGroups.length>0?d.rowFactory.parsedData.filter(function(a){return!a.isAggRow}):d.filteredRows;var s=0;if(0!==i&&(38===f||13===f&&c.shiftKey||9===f&&c.shiftKey&&h)?s=-1:i!==r.length-1&&(40===f||13===f&&!c.shiftKey||9===f&&g)&&(s=1),s){var t=r[i+s];t.beforeSelectionChange(t,c)&&(t.continueSelection(c),a.$emit("ngGridEventDigestGridParent"),a.selectionProvider.lastClickedRow.renderedRowIndex>=a.renderedRows.length-6-2?d.$viewport.scrollTop(d.$viewport.scrollTop()+a.rowHeight):a.selectionProvider.lastClickedRow.renderedRowIndex<=8&&d.$viewport.scrollTop(d.$viewport.scrollTop()-a.rowHeight))}return a.enableCellSelection&&setTimeout(function(){a.domAccessProvider.focusCellElement(a,a.renderedColumns.indexOf(j[e]))},3),!1};String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Array.prototype.indexOf||(Array.prototype.indexOf=function(a){var b=this.length>>>0,c=Number(arguments[1])||0;for(c=c<0?Math.ceil(c):Math.floor(c),c<0&&(c+=b);c<b;c++)if(c in this&&this[c]===a)return c;return-1}),Array.prototype.filter||(Array.prototype.filter=function(a){var b=Object(this),c=b.length>>>0;if("function"!=typeof a)throw new TypeError;for(var d=[],e=arguments[1],f=0;f<c;f++)if(f in b){var g=b[f];a.call(e,g,f,b)&&d.push(g)}return d}),j.filter("checkmark",function(){return function(a){return a?"✔":"✘"}}),j.filter("ngColumns",function(){return function(a){return a.filter(function(a){return!a.isAggCol})}}),angular.module("ngGrid.services").factory("$domUtilityService",["$utilityService","$window",function(a,c){function d(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e}var e={},f={};return e.eventStorage={},e.AssignGridContainers=function(a,c,d){d.$root=b(c),d.$topPanel=d.$root.find(".ngTopPanel"),d.$groupPanel=d.$root.find(".ngGroupPanel"),d.$headerContainer=d.$topPanel.find(".ngHeaderContainer"),a.$headerContainer=d.$headerContainer,d.$headerScroller=d.$topPanel.find(".ngHeaderScroller"),d.$headers=d.$headerScroller.children(),d.$viewport=d.$root.find(".ngViewport"),d.$canvas=d.$viewport.find(".ngCanvas"),d.$footerPanel=d.$root.find(".ngFooterPanel");var f=a.$watch(function(){return d.$viewport.scrollLeft()},function(a){return d.$headerContainer.scrollLeft(a)});a.$on("$destroy",function(){d.$root&&(b(d.$root.parent()).off("resize.nggrid"),d.$root=null,d.$topPanel=null,d.$headerContainer=null,d.$headers=null,d.$canvas=null,d.$footerPanel=null),f()}),e.UpdateGridLayout(a,d)},e.getRealWidth=function(a){var b=0,c={visibility:"hidden",display:"block"};return d(a.parents().addBack().not(":visible")[0],c,function(){b=a.outerWidth()}),b},e.UpdateGridLayout=function(a,b){if(b.$root){var c=b.$viewport.scrollTop();b.elementDims.rootMaxW=b.$root.width(),b.$root.is(":hidden")&&(b.elementDims.rootMaxW=e.getRealWidth(b.$root)),b.elementDims.rootMaxH=b.$root.height(),b.refreshDomSizes(),a.adjustScrollTop(c,!0)}},e.numberOfGrids=0,e.setStyleText=function(a,b){var d=a.styleSheet,e=a.gridId,f=c.document;d||(d=f.getElementById(e)),d||(d=f.createElement("style"),d.type="text/css",d.id=e,(f.head||f.getElementsByTagName("head")[0]).appendChild(d)),d.styleSheet&&!d.sheet?d.styleSheet.cssText=b:d.innerHTML=b,a.styleSheet=d,a.styleText=b},e.BuildStyles=function(a,b,c){var d,f=b.config.rowHeight,g=b.gridId,h=a.columns,i=0,j=a.totalRowWidth();d="."+g+" .ngCanvas { width: "+j+"px; }."+g+" .ngRow { width: "+j+"px; }."+g+" .ngCanvas { width: "+j+"px; }."+g+" .ngHeaderScroller { width: "+(j+e.ScrollH)+"px}";for(var k=0;k<h.length;k++){var l=h[k];if(l.visible!==!1){var m=0;k===h.length-1&&i+l.width<b.elementDims.rootMaxW&&(m=b.elementDims.rootMaxW-i-l.width),d+="."+g+" .col"+k+" { width: "+(l.width+m)+"px; left: "+i+"px; height: "+f+"px }."+g+" .colt"+k+" { width: "+(l.width+m)+"px; }",i+=l.width}}e.setStyleText(b,d),a.adjustScrollLeft(b.$viewport.scrollLeft()),c&&e.digest(a)},e.setColLeft=function(a,b,c){if(c.styleText){var d=f[a.index];d||(d=f[a.index]=new RegExp(".col"+a.index+" { width: [0-9]+px; left: [0-9]+px"));var g=c.styleText.replace(d,".col"+a.index+" { width: "+a.width+"px; left: "+b+"px");e.setStyleText(c,g)}},e.setColLeft.immediate=1,e.RebuildGrid=function(a,b){e.UpdateGridLayout(a,b),(null==b.config.maintainColumnRatios||b.config.maintainColumnRatios)&&b.configureColumnWidths(),a.adjustScrollLeft(b.$viewport.scrollLeft()),e.BuildStyles(a,b,!0)},e.digest=function(a){a.$root.$$phase||a.$digest()},e.ScrollH=17,e.ScrollW=17,e.LetterW=10,function(){var a=b("<div></div>");a.appendTo("body"),a.height(100).width(100).css("position","absolute").css("overflow","scroll"),a.append('<div style="height: 400px; width: 400px;"></div>'),e.ScrollH=a.height()-a[0].clientHeight,e.ScrollW=a.width()-a[0].clientWidth,a.empty(),a.attr("style",""),a.append('<span style="font-family: Verdana, Helvetica, Sans-Serif; font-size: 14px;"><strong>M</strong></span>'),e.LetterW=a.children().first().width(),a.remove()}(),e}]),angular.module("ngGrid.services").factory("$sortService",["$parse","$utilityService",function(a,b){var d={};return d.colSortFnCache={},d.isCustomSort=!1,d.guessSortFn=function(a){switch(typeof a){case"number":return d.sortNumber;case"boolean":return d.sortBool;case"string":return a.match(/^[-+]?[£$¤]?[\d,.]+%?$/)?d.sortNumberStr:d.sortAlpha;default:return"[object Date]"===Object.prototype.toString.call(a)?d.sortDate:d.basicSort}},d.basicSort=function(a,b){return a===b?0:a<b?-1:1},d.sortNumber=function(a,b){return a-b},d.sortNumberStr=function(a,b){var c,d,e=!1,f=!1;return c=parseFloat(a.replace(/[^0-9.-]/g,"")),isNaN(c)&&(e=!0),d=parseFloat(b.replace(/[^0-9.-]/g,"")),isNaN(d)&&(f=!0),e&&f?0:e?1:f?-1:c-d},d.sortAlpha=function(a,b){var c=a.toLowerCase(),d=b.toLowerCase();return c===d?0:c<d?-1:1},d.sortDate=function(a,b){var c=a.getTime(),d=b.getTime();return c===d?0:c<d?-1:1},d.sortBool=function(a,b){return a&&b?0:a||b?a?1:-1:0},d.sortData=function(a,e){if(e&&a){var f,g,h=a.fields.length,i=a.fields,j=e.slice(0);e.sort(function(e,k){for(var l,m,n=0,o=0;0===n&&o<h;){f=a.columns[o],g=a.directions[o],m=d.getSortFn(f,j);var p=b.evalProperty(e,i[o]),q=b.evalProperty(k,i[o]);d.isCustomSort?(l=m(p,q),n=g===c?l:0-l):null==p||null==q?null==q&&null==p?n=0:null==p?n=1:null==q&&(n=-1):(l=m(p,q),n=g===c?l:0-l),o++}return n})}},d.Sort=function(a,b){d.isSorting||(d.isSorting=!0,d.sortData(a,b),d.isSorting=!1)},d.getSortFn=function(b,c){var e,g;if(d.colSortFnCache[b.field])e=d.colSortFnCache[b.field];else if(void 0!==b.sortingAlgorithm)e=b.sortingAlgorithm,d.colSortFnCache[b.field]=b.sortingAlgorithm,d.isCustomSort=!0;else{if(!(g=c[0]))return e;e=d.guessSortFn(a("entity['"+b.field.replace(f,"']['")+"']")({entity:g})),e?d.colSortFnCache[b.field]=e:e=d.sortAlpha}return e},d}]),angular.module("ngGrid.services").factory("$utilityService",["$parse",function(c){var d=/function (.{1,})\(/;return{visualLength:function(a){var c=document.getElementById("testDataLength");c||(c=document.createElement("SPAN"),c.id="testDataLength",c.style.visibility="hidden",document.body.appendChild(c));var d=b(a);b(c).css({font:d.css("font"),"font-size":d.css("font-size"),"font-family":d.css("font-family")}),c.innerHTML=d.text();var e=c.offsetWidth;return document.body.removeChild(c),e},forIn:function(a,b){for(var c in a)a.hasOwnProperty(c)&&b(a[c],c)},endsWith:function(a,b){return!(!a||!b||"string"!=typeof a)&&a.indexOf(b,a.length-b.length)!==-1},isNullOrUndefined:function(a){return void 0===a||null===a},getElementsByClassName:function(a){if(document.getElementsByClassName)return document.getElementsByClassName(a);for(var b=[],c=new RegExp("\\b"+a+"\\b"),d=document.getElementsByTagName("*"),e=0;e<d.length;e++){var f=d[e].className;c.test(f)&&b.push(d[e])}return b},newId:function(){var a=(new Date).getTime();return function(){return a+=1}}(),seti18n:function(b,c){var d=a.ngGrid.i18n[c];for(var e in d)b.i18n[e]=d[e]},getInstanceType:function(a){var b=d.exec(a.constructor.toString());if(b&&b.length>1){return b[1].replace(/^\s+|\s+$/g,"")}return""},init:function(){function a(b){var c=h.exec(b);if(c)return(c[1]?a(c[1]):c[1])+c[2]+(c[3]?a(c[3]):c[3]);b=b.replace(g,"\\'");var d=b.split(f),i=[d.shift()];return angular.forEach(d,function(a){i.push(a.replace(e,"']$1"))}),i.join("['")}return this.preEval=a,this.evalProperty=function(b,d){return c(a("entity."+d))({entity:b})},delete this.init,this}}.init()}]);var l=function(a,b,c,d){this.rowIndex=0,this.offsetTop=this.rowIndex*(c+1),this.entity=a,this.label=a.gLabel,this.field=a.gField,this.depth=a.gDepth,this.parent=a.parent,this.children=a.children,this.aggChildren=a.aggChildren,this.aggIndex=a.aggIndex,this.collapsed=d,this.groupInitState=d,this.rowFactory=b,this.rowHeight=c,this.isAggRow=!0,this.offsetLeft=25*a.gDepth,this.aggLabelFilter=a.aggLabelFilter};l.prototype.getAggregateSelectArg=function(a){a&&(this.entity.selected=!this.entity.selected);var b={entities:[],select:this.entity.selected};return angular.forEach(this.children,function(a,c){b.entities.push(a.entity)}),b},l.prototype.getCheckState=function(){return this.entity.selected},l.prototype.toggleExpand=function(){this.collapsed=!this.collapsed,this.orig&&(this.orig.collapsed=this.collapsed),this.notifyChildren()},l.prototype.setExpand=function(a){this.collapsed=a,this.orig&&(this.orig.collapsed=a),this.notifyChildren()},l.prototype.notifyChildren=function(){for(var a=Math.max(this.rowFactory.aggCache.length,this.children.length),b=0;b<a;b++)if(this.aggChildren[b]&&(this.aggChildren[b].entity._ng_hidden_=this.collapsed,this.collapsed&&this.aggChildren[b].setExpand(this.collapsed)),this.children[b]&&(this.children[b]._ng_hidden_=this.collapsed),b>this.aggIndex&&this.rowFactory.aggCache[b]){var c=this.rowFactory.aggCache[b],d=30*this.children.length;c.offsetTop=this.collapsed?c.offsetTop-d:c.offsetTop+d}this.rowFactory.renderedChange()},l.prototype.aggClass=function(){return"uyAggArrow "+(this.collapsed?"fa fa-chevron-right":"fa fa-chevron-down")},l.prototype.totalChildren=function(){if(this.aggChildren.length>0){var a=0,b=function(c){c.aggChildren.length>0?angular.forEach(c.aggChildren,function(a){b(a)}):a+=c.children.length};return b(this),a}return this.children.length},l.prototype.copy=function(){var a=new l(this.entity,this.rowFactory,this.rowHeight,this.groupInitState);return a.orig=this,a};var m=function(a,e,f,g,h,i){var j=this,k=a.colDef,l=0,n=null;j.colDef=a.colDef,j.width=k.width,j.groupIndex=0,j.isGroupedBy=!1,j.minWidth=k.minWidth?k.minWidth:50,j.maxWidth=k.maxWidth?k.maxWidth:9e3,j.enableCellEdit=void 0!==k.enableCellEdit?k.enableCellEdit:a.enableCellEdit||a.enableCellEditOnFocus,j.cellEditableCondition=k.cellEditableCondition||a.cellEditableCondition||"true",j.headerRowHeight=a.headerRowHeight,j.displayName=void 0===k.displayName?k.field:k.displayName,j.index=a.index,j.isAggCol=a.isAggCol,j.cellClass=k.cellClass,j.sortPriority=void 0,j.cellFilter=k.cellFilter?k.cellFilter:"",j.field=k.field,j.aggLabelFilter=k.aggLabelFilter||k.cellFilter,j.visible=i.isNullOrUndefined(k.visible)||k.visible,j.sortable=!1,j.resizable=!1,j.pinnable=!1,j.pinned=a.enablePinning&&k.pinned,j.originalIndex=null==a.originalIndex?j.index:a.originalIndex,j.groupable=i.isNullOrUndefined(k.groupable)||k.groupable,a.enableSort&&(j.sortable=i.isNullOrUndefined(k.sortable)||k.sortable),a.enableResize&&(j.resizable=i.isNullOrUndefined(k.resizable)||k.resizable),a.enablePinning&&(j.pinnable=i.isNullOrUndefined(k.pinnable)||k.pinnable),j.sortDirection=void 0,j.sortingAlgorithm=k.sortFn,j.headerClass=k.headerClass,j.cursor=j.sortable?"pointer":"default",j.headerCellTemplate=k.headerCellTemplate||h.get("headerCellTemplate.html"),j.cellTemplate=k.cellTemplate||h.get("cellTemplate.html").replace(/CUSTOM_FILTERS/g,j.cellFilter?"|"+j.cellFilter:""),j.enableCellEdit&&(j.cellEditTemplate=k.cellEditTemplate||h.get("cellEditTemplate.html"),j.editableCellTemplate=k.editableCellTemplate||h.get("editableCellTemplate.html")),k.cellTemplate&&!d.test(k.cellTemplate)&&(j.cellTemplate=h.get(k.cellTemplate)||b.ajax({type:"GET",url:k.cellTemplate,async:!1}).responseText),j.enableCellEdit&&k.editableCellTemplate&&!d.test(k.editableCellTemplate)&&(j.editableCellTemplate=h.get(k.editableCellTemplate)||b.ajax({type:"GET",url:k.editableCellTemplate,async:!1}).responseText),k.headerCellTemplate&&!d.test(k.headerCellTemplate)&&(j.headerCellTemplate=h.get(k.headerCellTemplate)||b.ajax({type:"GET",url:k.headerCellTemplate,async:!1}).responseText),j.colIndex=function(){var a=j.pinned?"pinned ":"";return a+="col"+j.index+" colt"+j.index,j.cellClass&&(a+=" "+j.cellClass),a},j.groupedByClass=function(){return j.isGroupedBy?"ngGroupedByIcon":"ngGroupIcon"},j.toggleVisible=function(){j.visible=!j.visible},j.showSortButtonUp=function(){return j.sortable?"desc"===j.sortDirection:j.sortable},j.showSortButtonDown=function(){return j.sortable?j.sortDirection===c:j.sortable},j.noSortVisible=function(){return!j.sortDirection},j.sort=function(b){if(!j.sortable)return!0;var d=j.sortDirection===c?"desc":c;return j.sortDirection=d,a.sortCallback(j,b),!1},j.gripClick=function(){l++,1===l?n=setTimeout(function(){l=0},500):(clearTimeout(n),a.resizeOnDataCallback(j),l=0)},j.gripOnMouseDown=function(a){return e.isColumnResizing=!0,a.ctrlKey&&!j.pinned?(j.toggleVisible(),g.BuildStyles(e,f),!0):(a.target.parentElement.style.cursor="col-resize",j.startMousePosition=a.clientX,j.origWidth=j.width,b(document).mousemove(j.onMouseMove),b(document).mouseup(j.gripOnMouseUp),!1)},j.onMouseMove=function(a){var b=a.clientX-j.startMousePosition,c=b+j.origWidth;return j.width=c<j.minWidth?j.minWidth:c>j.maxWidth?j.maxWidth:c,e.hasUserChangedGridColumnWidths=!0,g.BuildStyles(e,f),!1},j.gripOnMouseUp=function(a){return b(document).off("mousemove",j.onMouseMove),b(document).off("mouseup",j.gripOnMouseUp),a.target.parentElement.style.cursor="default",g.digest(e),e.isColumnResizing=!1,!1},j.copy=function(){var b=new m(a,e,f,g,h,i);return b.isClone=!0,b.orig=j,b},j.setVars=function(a){j.orig=a,j.width=a.width,j.groupIndex=a.groupIndex,j.isGroupedBy=a.isGroupedBy,j.displayName=a.displayName,j.index=a.index,j.isAggCol=a.isAggCol,j.cellClass=a.cellClass,j.cellFilter=a.cellFilter,j.field=a.field,j.aggLabelFilter=a.aggLabelFilter,j.visible=a.visible,j.sortable=a.sortable,j.resizable=a.resizable,j.pinnable=a.pinnable,j.pinned=a.pinned,j.originalIndex=a.originalIndex,j.sortDirection=a.sortDirection,j.sortingAlgorithm=a.sortingAlgorithm,j.headerClass=a.headerClass,j.headerCellTemplate=a.headerCellTemplate,j.cellTemplate=a.cellTemplate,j.cellEditTemplate=a.cellEditTemplate}},n=function(a){this.outerHeight=null,this.outerWidth=null,b.extend(this,a)},o=function(a){this.previousColumn=null,this.grid=a};o.prototype.changeUserSelect=function(a,b){a.css({"-webkit-touch-callout":b,"-webkit-user-select":b,"-khtml-user-select":b,"-moz-user-select":"none"===b?"-moz-none":b,"-ms-user-select":b,"user-select":b})},o.prototype.focusCellElement=function(a,b){if(a.selectionProvider.lastClickedRow){var c=void 0!==b?b:this.previousColumn,d=a.selectionProvider.lastClickedRow.clone?a.selectionProvider.lastClickedRow.clone.elm:a.selectionProvider.lastClickedRow.elm;if(void 0!==c&&d){var e=angular.element(d[0].children).filter(function(){return 8!==this.nodeType}),f=Math.max(Math.min(a.renderedColumns.length-1,c),0);this.grid.config.showSelectionCheckbox&&angular.element(e[f]).scope()&&0===angular.element(e[f]).scope().col.index&&(f=1),e[f]&&e[f].children[1].children[0].focus(),this.previousColumn=c}}},o.prototype.selectionHandlers=function(a,b){function c(c){if(16===c.keyCode)return f.changeUserSelect(b,"none",c),!0;if(!e){e=!0;var d=k(a,b,c,f.grid);return e=!1,d}return!0}function d(a){return 16===a.keyCode&&f.changeUserSelect(b,"text",a),!0}var e=!1,f=this;b.bind("keydown",c),b.bind("keyup",d),b.on("$destroy",function(){b.off("keydown",c),b.off("keyup",d)})};var p=function(c,d,e,f){var g=this;g.colToMove=void 0,g.groupToMove=void 0,g.assignEvents=function(){c.config.jqueryUIDraggable&&!c.config.enablePinning?(c.$groupPanel.droppable({addClasses:!1,drop:function(a){g.onGroupDrop(a)}}),c.$groupPanel.on("$destroy",function(){c.$groupPanel=null})):(c.$groupPanel.on("mousedown",g.onGroupMouseDown).on("dragover",g.dragOver).on("drop",g.onGroupDrop),c.$topPanel.on("mousedown",".ngHeaderScroller",g.onHeaderMouseDown).on("dragover",".ngHeaderScroller",g.dragOver),c.$groupPanel.on("$destroy",function(){c.$groupPanel&&c.$groupPanel.off("mousedown"),c.$groupPanel=null}),c.config.enableColumnReordering&&c.$topPanel.on("drop",".ngHeaderScroller",g.onHeaderDrop),c.$topPanel.on("$destroy",function(){c.$topPanel&&c.$topPanel.off("mousedown"),c.config.enableColumnReordering&&c.$topPanel&&c.$topPanel.off("drop"),c.$topPanel=null})),d.$on("$destroy",d.$watch("renderedColumns",function(){f(g.setDraggables)}))},g.dragStart=function(a){a.dataTransfer.setData("text","")},g.dragOver=function(a){a.preventDefault()},g.setDraggables=function(){if(!c.config.jqueryUIDraggable&&c.$root){if(c.$root){var a=c.$root.find(".ngHeaderSortColumn");if(angular.forEach(a,function(a){a.className&&a.className.indexOf("ngHeaderSortColumn")!==-1&&(a.setAttribute("draggable","true"),a.addEventListener&&(a.addEventListener("dragstart",g.dragStart),angular.element(a).on("$destroy",function(){angular.element(a).off("dragstart",g.dragStart),a.removeEventListener("dragstart",g.dragStart)})))}),navigator.userAgent.indexOf("MSIE")!==-1){var b=c.$root.find(".ngHeaderSortColumn");b.bind("selectstart",function(){return this.dragDrop(),!1}),angular.element(b).on("$destroy",function(){b.off("selectstart")})}}}else c.$root&&c.$root.find(".ngHeaderSortColumn").draggable({helper:"clone",appendTo:"body",stack:"div",addClasses:!1,start:function(a){g.onHeaderMouseDown(a)}}).droppable({drop:function(a){g.onHeaderDrop(a)}})},g.onGroupMouseDown=function(a){var d=b(a.target);if("ngRemoveGroup"!==d[0].className){var e=angular.element(d).scope();e&&(c.config.jqueryUIDraggable||(d.attr("draggable","true"),this.addEventListener&&(this.addEventListener("dragstart",g.dragStart),angular.element(this).on("$destroy",function(){this.removeEventListener("dragstart",g.dragStart)})),navigator.userAgent.indexOf("MSIE")!==-1&&(d.bind("selectstart",function(){return this.dragDrop(),!1}),d.on("$destroy",function(){d.off("selectstart")}))),g.groupToMove={header:d,groupName:e.group,index:e.$index})}else g.groupToMove=void 0},g.onGroupDrop=function(a){a.stopPropagation();var e,f;g.groupToMove?(e=b(a.target).closest(".ngGroupElement"),"ngGroupPanel"===e.context.className?(d.configGroups.splice(g.groupToMove.index,1),d.configGroups.push(g.groupToMove.groupName)):(f=angular.element(e).scope())&&g.groupToMove.index!==f.$index&&(d.configGroups.splice(g.groupToMove.index,1),d.configGroups.splice(f.$index,0,g.groupToMove.groupName)),g.groupToMove=void 0,c.fixGroupIndexes()):g.colToMove&&(d.configGroups.indexOf(g.colToMove.col)===-1&&(e=b(a.target).closest(".ngGroupElement"),"ngGroupPanel"===e.context.className||"ngGroupPanelDescription ng-binding"===e.context.className?d.groupBy(g.colToMove.col):(f=angular.element(e).scope())&&d.removeGroup(f.$index)),g.colToMove=void 0),d.$$phase||d.$apply()},g.onHeaderMouseDown=function(a){var c=b(a.target).closest(".ngHeaderSortColumn"),d=angular.element(c).scope();d&&(g.colToMove={header:c,col:d.col})},g.onHeaderDrop=function(a){if(g.colToMove&&!g.colToMove.col.pinned){var f=b(a.target).closest(".ngHeaderSortColumn"),h=angular.element(f).scope();if(h){if(g.colToMove.col===h.col||h.col.pinned)return;d.columns.splice(g.colToMove.col.index,1),d.columns.splice(h.col.index,0,g.colToMove.col),c.fixColumnIndexes(),g.colToMove=void 0,e.digest(d)}}},g.assignGridEventHandlers=function(){c.config.tabIndex===-1?(c.$viewport.attr("tabIndex",e.numberOfGrids),e.numberOfGrids++):c.$viewport.attr("tabIndex",c.config.tabIndex);var f,g=function(){clearTimeout(f),f=setTimeout(function(){e.RebuildGrid(d,c),setTimeout(function(){e.RebuildGrid(d,c)},100)},100)};b(a).on("resize.nggrid",g);var h,i=function(){clearTimeout(h),h=setTimeout(function(){e.RebuildGrid(d,c),setTimeout(function(){e.RebuildGrid(d,c)},100)},100)};b(c.$root.parent()).on("resize.nggrid",i),d.$on("$destroy",function(){b(a).off("resize.nggrid",g)})},g.assignGridEventHandlers(),g.assignEvents()},q=function(a,b){a.maxRows=function(){return Math.max(a.totalServerItems,b.data.length)},a.$on("$destroy",a.$watch("totalServerItems",function(b,c){a.currentMaxPages=a.maxPages()})),a.multiSelect=b.config.enableRowSelection&&b.config.multiSelect,a.selectedItemCount=b.selectedItemCount,a.maxPages=function(){return 0===a.maxRows()?1:Math.ceil(a.maxRows()/a.pagingOptions.pageSize)},a.pageForward=function(){var b=a.pagingOptions.currentPage;a.totalServerItems>0?a.pagingOptions.currentPage=Math.min(b+1,a.maxPages()):a.pagingOptions.currentPage++},a.pageBackward=function(){var b=a.pagingOptions.currentPage;a.pagingOptions.currentPage=Math.max(b-1,1)},a.pageToFirst=function(){a.pagingOptions.currentPage=1},a.pageToLast=function(){var b=a.maxPages();a.pagingOptions.currentPage=b},a.cantPageForward=function(){var c=a.pagingOptions.currentPage,d=a.maxPages();return a.totalServerItems>0?c>=d:b.data.length<1},a.cantPageToLast=function(){return!(a.totalServerItems>0)||a.cantPageForward()},a.cantPageBackward=function(){return a.pagingOptions.currentPage<=1}},r=function(c,e,f,g,h,i,j,k,l,p,q){var r={aggregateTemplate:void 0,afterSelectionChange:function(){},beforeSelectionChange:function(){return!0},checkboxCellTemplate:void 0,checkboxHeaderTemplate:void 0,columnDefs:void 0,data:[],dataUpdated:function(){},enableCellEdit:!1,enableCellEditOnFocus:!1,enableCellSelection:!1,enableColumnResize:!1,enableColumnReordering:!1,enableColumnHeavyVirt:!1,enablePaging:!1,enablePinning:!1,enableRowSelection:!0,enableSorting:!0,enableHighlighting:!1,excludeProperties:[],filterOptions:{filterText:"",useExternalFilter:!1},footerRowHeight:55,footerTemplate:void 0,forceSyncScrolling:!0,groups:[],groupsCollapsedByDefault:!0,headerRowHeight:30,headerRowTemplate:void 0,jqueryUIDraggable:!1,jqueryUITheme:!1,keepLastSelected:!0,maintainColumnRatios:void 0,menuTemplate:void 0,multiSelect:!0,pagingOptions:{pageSizes:[250,500,1e3],pageSize:250,currentPage:1},pinSelectionCheckbox:!1,plugins:[],primaryKey:void 0,rowHeight:30,rowTemplate:void 0,selectedItems:[],selectionCheckboxColumnWidth:25,selectWithCheckboxOnly:!1,showColumnMenu:!1,showFilter:!1,showFooter:!1,showGroupPanel:!1,showSelectionCheckbox:!1,sortInfo:{fields:[],columns:[],directions:[]},tabIndex:-1,totalServerItems:0,useExternalSorting:!1,i18n:"en",virtualizationThreshold:50,noTabInterference:!1,noDataMessage:"No Data"},t=this;t.maxCanvasHt=0,t.config=b.extend(r,a.ngGrid.config,e),t.config.showSelectionCheckbox=t.config.showSelectionCheckbox&&t.config.enableColumnHeavyVirt===!1,t.config.enablePinning=t.config.enablePinning&&t.config.enableColumnHeavyVirt===!1,t.config.selectWithCheckboxOnly=t.config.selectWithCheckboxOnly&&t.config.showSelectionCheckbox!==!1,t.config.pinSelectionCheckbox=t.config.enablePinning,"string"==typeof e.columnDefs&&(t.config.columnDefs=c.$eval(e.columnDefs)),t.rowCache=[],t.rowMap=[],t.gridId="ng"+j.newId(),t.$root=null,t.$groupPanel=null,t.$topPanel=null,t.$headerContainer=null,t.$headerScroller=null,t.$headers=null,t.$viewport=null,t.$canvas=null,t.rootDim=t.config.gridDim,t.data=[],t.lateBindColumns=!1,t.filteredRows=[],t.initTemplates=function(){var a=["rowTemplate","aggregateTemplate","headerRowTemplate","checkboxCellTemplate","checkboxHeaderTemplate","menuTemplate","footerTemplate"],b=[];return angular.forEach(a,function(a){b.push(t.getTemplate(a))}),q.all(b)},t.getTemplate=function(a){var b=t.config[a],c=t.gridId+a+".html",e=q.defer();if(b&&!d.test(b))p.get(b,{cache:i}).then(function(a){i.put(c,a.data),e.resolve()}).catch(function(a){e.reject("Could not load template: "+b)});else if(b)i.put(c,b),e.resolve();else{var f=a+".html";i.put(c,i.get(f)),e.resolve()}return e.promise},"object"==typeof t.config.data&&(t.data=t.config.data),t.calcMaxCanvasHeight=function(){return t.config.groups.length>0?t.rowFactory.parsedData.filter(function(a){return!a._ng_hidden_}).length*t.config.rowHeight:t.filteredRows.length*t.config.rowHeight},t.elementDims={scrollW:0,scrollH:0,rowIndexCellW:t.config.selectionCheckboxColumnWidth,rowSelectedCellW:t.config.selectionCheckboxColumnWidth,rootMaxW:0,rootMaxH:0},t.setRenderedRows=function(a){c.renderedRows.length=a.length;for(var b=0;b<a.length;b++)!c.renderedRows[b]||a[b].isAggRow||c.renderedRows[b].isAggRow?(c.renderedRows[b]=a[b].copy(),c.renderedRows[b].collapsed=a[b].collapsed,a[b].isAggRow||c.renderedRows[b].setVars(a[b])):c.renderedRows[b].setVars(a[b]),c.renderedRows[b].rowIndex=a[b].rowIndex,c.renderedRows[b].offsetTop=a[b].offsetTop,c.renderedRows[b].selected=a[b].selected,a[b].renderedRowIndex=b;t.refreshDomSizes(),c.$emit("ngGridEventRows",a)},t.minRowsToRender=function(){var a=c.viewportDimHeight()||1;return Math.floor(a/t.config.rowHeight)},t.refreshDomSizes=function(){var a=new n;a.outerWidth=t.elementDims.rootMaxW,a.outerHeight=t.elementDims.rootMaxH,t.rootDim=a,t.maxCanvasHt=t.calcMaxCanvasHeight()},t.buildColumnDefsFromData=function(){t.config.columnDefs=[];var a=t.data[0];if(!a)return void(t.lateBoundColumns=!0);j.forIn(a,function(a,b){t.config.excludeProperties.indexOf(b)===-1&&t.config.columnDefs.push({field:b})})},t.buildColumns=function(){var a=t.config.columnDefs,b=[];if(a||(t.buildColumnDefsFromData(),a=t.config.columnDefs),t.config.showSelectionCheckbox&&b.push(new m({colDef:{field:"✔",width:t.elementDims.rowSelectedCellW,sortable:!1,resizable:!1,groupable:!1,headerCellTemplate:i.get(c.gridId+"checkboxHeaderTemplate.html"),cellTemplate:i.get(c.gridId+"checkboxCellTemplate.html"),pinned:t.config.pinSelectionCheckbox},index:0,headerRowHeight:t.config.headerRowHeight,sortCallback:t.sortData,resizeOnDataCallback:t.resizeOnData,enableResize:t.config.enableColumnResize,enableSort:t.config.enableSorting,enablePinning:t.config.enablePinning},c,t,g,i,j)),a.length>0){var d=t.config.showSelectionCheckbox?1:0,e=c.configGroups.length;c.configGroups.length=0,angular.forEach(a,function(a,f){f+=d;var h=new m({colDef:a,index:f+e,originalIndex:f,headerRowHeight:t.config.headerRowHeight,sortCallback:t.sortData,resizeOnDataCallback:t.resizeOnData,enableResize:t.config.enableColumnResize,enableSort:t.config.enableSorting,enablePinning:t.config.enablePinning,enableCellEdit:t.config.enableCellEdit||t.config.enableCellEditOnFocus,cellEditableCondition:t.config.cellEditableCondition},c,t,g,i,j),k=t.config.groups.indexOf(a.field);k!==-1&&(h.isGroupedBy=!0,c.configGroups.splice(k,0,h),h.groupIndex=c.configGroups.length),b.push(h)}),c.columns=b,t.config.groups.length>0&&t.rowFactory.getGrouping(t.config.groups)}},t.configureColumnWidths=function(){var a=[],b=[],d=0,e=0,f={};if(angular.forEach(c.columns,function(a,b){if(j.isNullOrUndefined(a.originalIndex))a.isAggCol&&a.visible&&(e+=25);else{var c=a.originalIndex;t.config.showSelectionCheckbox&&(0===a.originalIndex&&a.visible&&(e+=t.config.selectionCheckboxColumnWidth),c--),f[c]=b}}),angular.forEach(t.config.columnDefs,function(g,h){var i=c.columns[f[h]];g.index=h;var k,l=!1;if(j.isNullOrUndefined(g.width)?g.width="*":(l=!!isNaN(g.width)&&j.endsWith(g.width,"%"),k=l?g.width:parseInt(g.width,10)),isNaN(k)){if("auto"===(k=g.width)){i.width=i.minWidth,e+=i.width;var m=i;return void c.$on("$destroy",c.$on("ngGridEventData",function(){t.resizeOnData(m)}))}if(k.indexOf("*")!==-1)return i.visible!==!1&&(d+=k.length),void a.push(g);if(l)return void b.push(g);throw'unable to parse column width, use percentage ("10%","20%", etc...) or "*" to use remaining width of grid'}i.visible!==!1&&(e+=i.width=parseInt(i.width,10))}),b.length>0){t.config.maintainColumnRatios=t.config.maintainColumnRatios!==!1;var h=0,i=0;angular.forEach(b,function(a){var b=c.columns[f[a.index]],d=parseFloat(a.width)/100;h+=d,b.visible||(i+=d)});var k=h-i;angular.forEach(b,function(a){var b=c.columns[f[a.index]],d=parseFloat(a.width)/100;d/=i>0?k:h;var g=t.rootDim.outerWidth*h;b.width=g*d,e+=b.width})}if(a.length>0){t.config.maintainColumnRatios=t.config.maintainColumnRatios!==!1;var l=t.rootDim.outerWidth-e;t.maxCanvasHt>c.viewportDimHeight()&&(l-=g.ScrollW);var m=Math.floor(l/d);angular.forEach(a,function(b,d){var h=c.columns[f[b.index]];if(h.width=m*b.width.length,h.width<h.minWidth&&(h.width=h.minWidth),h.visible!==!1&&(e+=h.width),d===a.length-1&&e<t.rootDim.outerWidth){var i=t.rootDim.outerWidth-e;t.maxCanvasHt>c.viewportDimHeight()&&(i-=g.ScrollW),h.width+=i}})}},t.init=function(){return t.initTemplates().then(function(){c.selectionProvider=new w(t,c,l,j),c.domAccessProvider=new o(t),t.rowFactory=new u(t,c,g,i,j),t.searchProvider=new v(c,t,h,j),t.styleProvider=new x(c,t),c.$on("$destroy",c.$watch("configGroups",function(a){var b=[];angular.forEach(a,function(a){b.push(a.field||a)}),t.config.groups=b,t.rowFactory.filteredRowsChanged(),c.$emit("ngGridEventGroups",a)},!0)),c.$on("$destroy",c.$watch("columns",function(a){c.isColumnResizing||g.RebuildGrid(c,t),c.$emit("ngGridEventColumns",a)},!0)),c.$on("$destroy",c.$watch(function(){return e.i18n},function(a){j.seti18n(c,a)})),t.maxCanvasHt=t.calcMaxCanvasHeight(),t.config.sortInfo.fields&&t.config.sortInfo.fields.length>0&&c.$on("$destroy",c.$watch(function(){return t.config.sortInfo},function(a){f.isSorting||(t.sortColumnsInit(),c.$emit("ngGridEventSorted",t.config.sortInfo))},!0))})},t.resizeOnData=function(a){var d=a.minWidth,e=j.getElementsByClassName("col"+a.index);angular.forEach(e,function(a,c){var e;if(0===c){var f=b(a).find(".ngHeaderText");e=j.visualLength(f)+10}else{var g=b(a).find(".ngCellText");e=j.visualLength(g)+10}e>d&&(d=e)}),a.width=a.longest=Math.min(a.maxWidth,d+7),g.BuildStyles(c,t,!0)},t.lastSortedColumns=[],t.sortData=function(a,d){if(d&&d.shiftKey&&t.config.sortInfo){var e=t.config.sortInfo.columns.indexOf(a);e===-1?(1===t.config.sortInfo.columns.length&&(t.config.sortInfo.columns[0].sortPriority=1),t.config.sortInfo.columns.push(a),a.sortPriority=t.config.sortInfo.columns.length,t.config.sortInfo.fields.push(a.field),t.config.sortInfo.directions.push(a.sortDirection),t.lastSortedColumns.push(a)):t.config.sortInfo.directions[e]=a.sortDirection,c.$emit("ngGridEventSorted",t.config.sortInfo)
}else if(!t.config.useExternalSorting||t.config.useExternalSorting&&t.config.sortInfo){var f=b.isArray(a);t.config.sortInfo.columns.length=0,t.config.sortInfo.fields.length=0,t.config.sortInfo.directions.length=0;var g=function(a){t.config.sortInfo.columns.push(a),t.config.sortInfo.fields.push(a.field),t.config.sortInfo.directions.push(a.sortDirection),t.lastSortedColumns.push(a)};f?angular.forEach(a,function(a,b){a.sortPriority=b+1,g(a)}):(t.clearSortingData(a),a.sortPriority=void 0,g(a)),t.sortActual(),t.searchProvider.evalFilter(),c.$emit("ngGridEventSorted",t.config.sortInfo)}},t.sortColumnsInit=function(){t.config.sortInfo.columns?t.config.sortInfo.columns.length=0:t.config.sortInfo.columns=[];var a=[];angular.forEach(c.columns,function(b){var c=t.config.sortInfo.fields.indexOf(b.field);c!==-1&&(b.sortDirection=t.config.sortInfo.directions[c]||"asc",a[c]=b)}),1===a.length?t.sortData(a[0]):t.sortData(a)},t.sortActual=function(){if(!t.config.useExternalSorting){var a=t.data.slice(0);angular.forEach(a,function(a,b){var c=t.rowMap[b];if(void 0!==c){var d=t.rowCache[c];void 0!==d&&(a.preSortSelected=d.selected,a.preSortIndex=b)}}),f.Sort(t.config.sortInfo,a),angular.forEach(a,function(a,b){t.rowCache[b].entity=a,t.rowCache[b].selected=a.preSortSelected,t.rowMap[a.preSortIndex]=b,delete a.preSortSelected,delete a.preSortIndex})}},t.clearSortingData=function(a){a?(angular.forEach(t.lastSortedColumns,function(b){a.index!==b.index&&(b.sortDirection="",b.sortPriority=null)}),t.lastSortedColumns[0]=a,t.lastSortedColumns.length=1):(angular.forEach(t.lastSortedColumns,function(a){a.sortDirection="",a.sortPriority=null}),t.lastSortedColumns=[])},t.fixColumnIndexes=function(){for(var a=0;a<c.columns.length;a++)c.columns[a].index=a},t.fixGroupIndexes=function(){angular.forEach(c.configGroups,function(a,b){a.groupIndex=b+1})},c.elementsNeedMeasuring=!0,c.columns=[],c.renderedRows=[],c.renderedColumns=[],c.headerRow=null,c.rowHeight=t.config.rowHeight,c.jqueryUITheme=t.config.jqueryUITheme,c.showSelectionCheckbox=t.config.showSelectionCheckbox,c.enableCellSelection=t.config.enableCellSelection,c.enableCellEditOnFocus=t.config.enableCellEditOnFocus,c.footer=null,c.selectedItems=t.config.selectedItems,c.multiSelect=t.config.multiSelect,c.showFooter=t.config.showFooter,c.footerRowHeight=c.showFooter?t.config.footerRowHeight:0,c.showColumnMenu=t.config.showColumnMenu,c.forceSyncScrolling=t.config.forceSyncScrolling,c.showMenu=!1,c.configGroups=[],c.gridId=t.gridId,c.noDataMessage=t.config.noDataMessage,c.selectAggregate=function(a){t.config.selectAggregateCallback&&t.config.selectAggregateCallback(a.entities,a.select)},c.enablePaging=t.config.enablePaging,c.pagingOptions=t.config.pagingOptions,c.i18n={},j.seti18n(c,t.config.i18n),c.adjustScrollLeft=function(a){for(var b=0,d=0,e=c.columns.length,f=[],h=!t.config.enableColumnHeavyVirt,i=0,j=function(a){h?f.push(a):c.renderedColumns[i]?c.renderedColumns[i].setVars(a):c.renderedColumns[i]=a.copy(),i++},k=0;k<e;k++){var l=c.columns[k];if(l.visible!==!1){var m=l.width+b;if(l.pinned){j(l);var n=k>0?a+d:a;g.setColLeft(l,n,t),d+=l.width}else m>=a&&b<=a+t.rootDim.outerWidth&&j(l);b+=l.width}}h&&(c.renderedColumns=f)},t.prevScrollTop=0,t.prevScrollIndex=0,c.adjustScrollTop=function(a,b){if(t.prevScrollTop!==a||b){a>0&&t.$viewport[0].scrollHeight-a<=t.$viewport.outerHeight()&&c.$emit("ngGridEventScroll");var d,e=Math.floor(a/(t.config.rowHeight+1));if(t.filteredRows.length>t.config.virtualizationThreshold){if(t.prevScrollTop<a&&e<t.prevScrollIndex+4)return;if(t.prevScrollTop>a&&e>t.prevScrollIndex-4)return;d=new s(Math.max(0,e-6),e+t.minRowsToRender()+6)}else{var f=c.configGroups.length>0?t.rowFactory.parsedData.length:t.filteredRows.length;d=new s(0,Math.max(f,t.minRowsToRender()+6))}t.prevScrollTop=a,t.rowFactory.UpdateViewableRange(d),t.prevScrollIndex=e}},c.toggleShowMenu=function(){c.showMenu=!c.showMenu},c.toggleSelectAll=function(a,b){c.selectionProvider.toggleSelectAll(a,!1,b)},c.totalFilteredItemsLength=function(){return t.filteredRows.length},c.showGroupPanel=function(){return t.config.showGroupPanel},c.topPanelHeight=function(){return t.config.showGroupPanel===!0?t.config.headerRowHeight+32:t.config.headerRowHeight},c.viewportDimHeight=function(){return Math.max(0,t.rootDim.outerHeight-c.topPanelHeight()-c.footerRowHeight-2)},c.groupBy=function(a){if(!(t.data.length<1)&&a.groupable&&a.field){a.sortDirection||a.sort({shiftKey:c.configGroups.length>0});var b=c.configGroups.indexOf(a);b===-1?(a.isGroupedBy=!0,c.configGroups.push(a),a.groupIndex=c.configGroups.length):c.removeGroup(b),t.$viewport.scrollTop(0),g.digest(c)}},c.removeGroup=function(a){var b=c.columns.filter(function(b){return b.groupIndex===a+1})[0];b.isGroupedBy=!1,b.groupIndex=0,c.columns[a].isAggCol&&(c.columns.splice(a,1),c.configGroups.splice(a,1),t.fixGroupIndexes()),0===c.configGroups.length&&(t.fixColumnIndexes(),g.digest(c)),c.adjustScrollLeft(0)},c.togglePin=function(a){for(var b=a.index,d=0,e=0;e<c.columns.length&&c.columns[e].pinned;e++)d++;a.pinned&&(d=Math.max(a.originalIndex,d-1)),a.pinned=!a.pinned,c.columns.splice(b,1),c.columns.splice(d,0,a),t.fixColumnIndexes(),g.BuildStyles(c,t,!0),t.$viewport.scrollLeft(t.$viewport.scrollLeft()-a.width)},c.totalRowWidth=function(){for(var a=0,b=c.columns,d=0;d<b.length;d++)b[d].visible!==!1&&(a+=b[d].width);return a},c.headerScrollerDim=function(){var a=c.viewportDimHeight(),b=t.maxCanvasHt,d=b>a,e=new n;return e.autoFitHeight=!0,e.outerWidth=c.totalRowWidth(),d?e.outerWidth+=t.elementDims.scrollW:b-a<=t.elementDims.scrollH&&(e.outerWidth+=t.elementDims.scrollW),e}},s=function(a,b){this.topRow=a,this.bottomRow=b},t=function(a,b,c,d,e){this.entity=a,this.config=b,this.selectionProvider=c,this.rowIndex=d,this.utils=e,this.selected=c.getSelection(a),this.cursor=this.config.enableRowSelection&&!this.config.selectWithCheckboxOnly?"pointer":"default",this.beforeSelectionChange=b.beforeSelectionChangeCallback,this.afterSelectionChange=b.afterSelectionChangeCallback,this.offsetTop=this.rowIndex*(b.rowHeight+1),this.rowDisplayIndex=0};t.prototype.setSelection=function(a){this.selectionProvider.setSelection(this,a),this.selectionProvider.lastClickedRow=this},t.prototype.continueSelection=function(a){this.selectionProvider.ChangeSelection(this,a)},t.prototype.ensureEntity=function(a){this.entity!==a&&(this.entity=a,this.selected=this.selectionProvider.getSelection(this.entity))},t.prototype.toggleSelected=function(a){return!this.config.enableRowSelection&&!this.config.enableCellSelection||(this.beforeSelectionChange(this,a)&&this.continueSelection(a),!1)},t.prototype.alternatingRowClass=function(){var a=this.rowIndex%2==0,b={ngRow:!0,"ui-state-default":this.config.jqueryUITheme&&a,"ui-state-active":this.config.jqueryUITheme&&!a};return b[this.config.evenClass]=a,b[this.config.oddClass]=!a,b[this.config.selectedClass]=this.selected,b},t.prototype.getProperty=function(a){return this.utils.evalProperty(this.entity,a)},t.prototype.copy=function(){return this.clone=new t(this.entity,this.config,this.selectionProvider,this.rowIndex,this.utils),this.clone.isClone=!0,this.clone.elm=this.elm,this.clone.orig=this,this.clone},t.prototype.setVars=function(a){a.clone=this,this.entity=a.entity,this.selected=a.selected,this.orig=a};var u=function(a,b,c,d,e){var f=this,g=a.config.customRowClasses||{};f.aggCache={},f.prevAggCache=[],f.parentCache=[],f.dataChanged=!0,f.parsedData=[],f.rowConfig={},f.selectionProvider=b.selectionProvider,f.rowHeight=30,f.numberOfAggregates=0,f.groupedData=void 0,f.rowHeight=a.config.rowHeight,f.rowConfig={enableRowSelection:a.config.enableRowSelection,rowClasses:a.config.rowClasses,oddClass:g.odd||"odd",evenClass:g.even||"even",selectedClass:a.config.showRowHighlight?g.selected||"selected":"",selectedItems:b.selectedItems,selectWithCheckboxOnly:a.config.selectWithCheckboxOnly,beforeSelectionChangeCallback:a.config.beforeSelectionChange,afterSelectionChangeCallback:a.config.afterSelectionChange,jqueryUITheme:a.config.jqueryUITheme,enableCellSelection:a.config.enableCellSelection,rowHeight:a.config.rowHeight},f.renderedRange=new s(0,a.minRowsToRender()+6),f.buildEntityRow=function(a,b){return new t(a,f.rowConfig,f.selectionProvider,b,e)},f.buildAggregateRow=function(b,c){var d=f.aggCache[b.aggIndex];if(!d){var e=f.prevAggCache[b.aggIndex]&&f.prevAggCache[b.aggIndex].field===b.gField&&f.prevAggCache[b.aggIndex].label===b.gLabel?f.prevAggCache[b.aggIndex].collapsed:a.config.groupsCollapsedByDefault;d=new l(b,f,f.rowConfig.rowHeight,e),f.aggCache[b.aggIndex]=d}return d.rowIndex=c,d.offsetTop=c*f.rowConfig.rowHeight,d},f.UpdateViewableRange=function(a){f.renderedRange=a,f.renderedChange()},f.filteredRowsChanged=function(){a.lateBoundColumns&&a.filteredRows.length>0&&(a.config.columnDefs=void 0,a.buildColumns(),a.lateBoundColumns=!1,b.$evalAsync(function(){b.adjustScrollLeft(0)})),f.dataChanged=!0,a.config.groups.length>0&&f.getGrouping(a.config.groups),f.UpdateViewableRange(f.renderedRange)},f.renderedChange=function(){if(!f.groupedData||a.config.groups.length<1)return f.renderedChangeNoGroups(),void a.refreshDomSizes();f.wasGrouped=!0,f.parentCache=[];var b=0,c=f.parsedData.filter(function(a){return a.isAggRow?!a.parent||!a.parent.collapsed:(a._ng_hidden_||(a.rowIndex=b++),!a._ng_hidden_)});f.totalRows=c.length;for(var d=[],e=f.renderedRange.topRow;e<f.renderedRange.bottomRow;e++)c[e]&&(c[e].offsetTop=e*(a.config.rowHeight+1),d.push(c[e]));a.setRenderedRows(d)},f.renderedChangeNoGroups=function(){for(var b=[],c=f.renderedRange.topRow;c<f.renderedRange.bottomRow;c++)a.filteredRows[c]&&(a.filteredRows[c].rowIndex=c,a.filteredRows[c].offsetTop=c*(a.config.rowHeight+1),b.push(a.filteredRows[c]));a.setRenderedRows(b)},f.fixRowCache=function(){var b=a.data.length;if(b-a.rowCache.length<0)a.rowCache.length=a.rowMap.length=b;else for(var c=a.rowCache.length;c<b;c++)a.rowCache[c]=a.rowFactory.buildEntityRow(a.data[c],c)},f.parseGroupData=function(a){if(a.values)for(var b=0;b<a.values.length;b++)f.parentCache[f.parentCache.length-1].children.push(a.values[b]),f.parsedData.push(a.values[b]);else for(var c in a)if("_ng_field_"!==c&&"_ng_depth_"!==c&&"_ng_column_"!==c&&a.hasOwnProperty(c)){var d=f.buildAggregateRow({gField:a._ng_field_,gLabel:c,gDepth:a._ng_depth_,isAggRow:!0,_ng_hidden_:!1,children:[],aggChildren:[],aggIndex:f.numberOfAggregates,aggLabelFilter:a._ng_column_.aggLabelFilter,selected:!1},0);f.numberOfAggregates++,d.parent=f.parentCache[d.depth-1],d.parent&&(d.parent.collapsed=!1,d.parent.aggChildren.push(d)),f.parsedData.push(d),f.parentCache[d.depth]=d,f.parseGroupData(a[c])}},f.getGrouping=function(c){f.prevAggCache=f.aggCache,f.aggCache=[],f.numberOfAggregates=0,f.groupedData={};for(var d=a.filteredRows,g=(c.length,b.columns),h=0;h<d.length;h++){var i=d[h].entity;if(!i)return;d[h]._ng_hidden_=a.config.groupsCollapsedByDefault;for(var j=f.groupedData,k=0;k<c.length;k++){var l=c[k],m=function(a,b){return a.filter(function(a){return a.field===b})}(g,l)[0],n=e.evalProperty(i,l);n=""===n||null===n||void 0===n?"null":n.toString(),j[n]||(j[n]={}),j._ng_field_||(j._ng_field_=l),j._ng_depth_||(j._ng_depth_=k),j._ng_column_||(j._ng_column_=m),j=j[n]}j.values||(j.values=[]),j.values.push(d[h])}a.fixColumnIndexes(),b.adjustScrollLeft(0),f.parsedData.length=0,f.parseGroupData(f.groupedData),f.fixRowCache(),angular.forEach(f.aggCache,function(b){b.collapsed!=a.config.groupsCollapsedByDefault&&b.notifyChildren()})},a.config.groups.length>0&&a.filteredRows.length>0&&f.getGrouping(a.config.groups)},v=function(a,c,d,e){var f=this,g=[];f.extFilter=c.config.filterOptions.useExternalFilter,a.showFilter=c.config.showFilter,a.filterText="",f.fieldMap={};var h=function(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c.toLowerCase()]=a[c]);return b},i=function(a){if("object"==typeof a){var b=[];for(var c in a)b=b.concat(i(a[c]));return b}return[a]},j=function(a,b,c){var e;for(var f in b)if(b.hasOwnProperty(f)){var g=c[f.toLowerCase()],i=b[f];if("object"!=typeof i||i instanceof Date){var k=null,l=null;if(g&&g.cellFilter&&(l=g.cellFilter.split(":"),k=d(l[0])),null!==i&&void 0!==i){if("function"==typeof k){var m=k(i,l[1]?l[1].slice(1,-1):"").toString();e=a.regex.test(m)}else e=a.regex.test(i.toString());if(e)return!0}}else{var n=h(g);if(e=j(a,i,n))return!0}}return!1},k=function(a,b){var c,g=f.fieldMap[a.columnDisplay];if(!g)return!1;var h=g.cellFilter.split(":"),j=g.cellFilter?d(h[0]):null,k=b[a.column]||b[g.field.split(".")[0]]||e.evalProperty(b,g.field);if(null===k||void 0===k)return!1;if("function"==typeof j){var l=j("object"==typeof k?m(k,g.field):k,h[1]).toString();c=a.regex.test(l)}else{var n=i(m(k,g.field));for(var o in n)c|=a.regex.test(n[o])}return!!c},l=function(a){for(var b=0,c=g.length;b<c;b++){var d=g[b];if(!(d.column?k(d,a):j(d,a,f.fieldMap)))return!1}return!0};f.evalFilter=function(){0===g.length?c.filteredRows=c.rowCache:c.filteredRows=c.rowCache.filter(function(a){return l(a.entity)});for(var a=0;a<c.filteredRows.length;a++)c.filteredRows[a].rowIndex=a;c.rowFactory.filteredRowsChanged()};var m=function(a,b){if("object"!=typeof a||"string"!=typeof b)return a;var c=b.split("."),d=a;if(c.length>1){for(var e=1,f=c.length;e<f;e++)if(!(d=d[c[e]]))return a;return d}return a},n=function(a,b){try{return new RegExp(a,b)}catch(b){return new RegExp(a.replace(/(\^|\$|\(|\)|<|>|\[|\]|\{|\}|\\|\||\.|\*|\+|\?)/g,"\\$1"))}},o=function(a){g=[];var c;if(c=b.trim(a))for(var d=c.split(";"),e=0;e<d.length;e++){var f=d[e].split(":");if(f.length>1){var h=b.trim(f[0]),i=b.trim(f[1]);h&&i&&g.push({column:h,columnDisplay:h.replace(/\s+/g,"").toLowerCase(),regex:n(i,"i")})}else{var j=b.trim(f[0]);j&&g.push({column:"",regex:n(j,"i")})}}};f.extFilter||a.$on("$destroy",a.$watch("columns",function(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.field)if(c.field.match(/\./g)){for(var d=c.field.split("."),e=f.fieldMap,g=0;g<d.length-1;g++)e[d[g]]=e[d[g]]||{},e=e[d[g]];e[d[d.length-1]]=c}else f.fieldMap[c.field.toLowerCase()]=c;c.displayName&&(f.fieldMap[c.displayName.toLowerCase().replace(/\s+/g,"")]=c)}})),a.$on("$destroy",a.$watch(function(){return c.config.filterOptions.filterText},function(b){a.filterText=b})),a.$on("$destroy",a.$watch("filterText",function(b){f.extFilter||(a.$emit("ngGridEventFilter",b),o(b),f.evalFilter())}))},w=function(a,b,c,d){var e=this;e.multi=a.config.multiSelect,e.selectedItems=a.config.selectedItems,e.selectedIndex=a.config.selectedIndex,e.lastClickedRow=void 0,e.ignoreSelectedItemChanges=!1;var f=a.config.primaryKey;f&&(f=d.preEval("entity."+a.config.primaryKey)),e.pKeyParser=c(f),e.ChangeSelection=function(c,d){var f=d.which||d.keyCode,g=40===f||38===f;if(d&&d.shiftKey&&!d.keyCode&&e.multi&&a.config.enableRowSelection){if(e.lastClickedRow){var h;h=b.configGroups.length>0?a.rowFactory.parsedData.filter(function(a){return!a.isAggRow}):a.filteredRows;var i=c.rowIndex,j=e.lastClickedRowIndex;if(i===j)return!1;i<j?(i^=j,j^=i,i^=j,i--):j++;for(var k=[];j<=i;j++)k.push(h[j]);if(k[k.length-1].beforeSelectionChange(k,d)){for(var l=0;l<k.length;l++){var m=k[l],n=m.selected;m.selected=!n,m.clone&&(m.clone.selected=m.selected);var o=e.selectedItems.indexOf(m.entity);o===-1?e.selectedItems.push(m.entity):e.selectedItems.splice(o,1)}k[k.length-1].afterSelectionChange(k,d)}return e.lastClickedRow=c,e.lastClickedRowIndex=c.rowIndex,!0}}else e.multi?(!d.keyCode||g&&!a.config.selectWithCheckboxOnly)&&e.setSelection(c,!c.selected):e.lastClickedRow===c?e.setSelection(e.lastClickedRow,!!a.config.keepLastSelected||!c.selected):(e.lastClickedRow&&e.setSelection(e.lastClickedRow,!1),e.setSelection(c,!c.selected));return e.lastClickedRow=c,e.lastClickedRowIndex=c.rowIndex,!0},e.getSelection=function(a){return e.getSelectionIndex(a)!==-1},e.getSelectionIndex=function(b){var c=-1;if(a.config.primaryKey){var d=e.pKeyParser({entity:b});angular.forEach(e.selectedItems,function(a,b){d===e.pKeyParser({entity:a})&&(c=b)})}else c=e.selectedItems.indexOf(b);return c},e.setSelection=function(b,c){if(a.config.enableRowSelection){if(c)e.getSelectionIndex(b.entity)===-1&&(!e.multi&&e.selectedItems.length>0&&e.toggleSelectAll(!1,!0),e.selectedItems.push(b.entity));else{var d=e.getSelectionIndex(b.entity);d!==-1&&e.selectedItems.splice(d,1)}b.selected=c,b.orig&&(b.orig.selected=c),b.clone&&(b.clone.selected=c),b.afterSelectionChange(b)}},e.toggleSelectAll=function(b,c,d){var f,g,h=d?a.filteredRows:a.rowCache;if(c||a.config.beforeSelectionChange(h,b)){!d&&e.selectedItems.length>0&&(e.selectedItems.length=0);for(var i=0;i<h.length;i++)f=h[i].selected,h[i].selected=b,h[i].clone&&(h[i].clone.selected=b),!f&&b?e.selectedItems.push(h[i].entity):f&&!b&&(g=e.getSelectionIndex(h[i].entity))>-1&&e.selectedItems.splice(g,1);c||a.config.afterSelectionChange(h,b)}}},x=function(a,b){a.headerCellStyle=function(a){return{height:a.headerRowHeight+"px"}},a.rowStyle=function(b){var c={top:b.offsetTop+"px",height:a.rowHeight-2+"px"};return b.isAggRow&&(c.left=b.offsetLeft),c},a.canvasStyle=function(){return{height:b.maxCanvasHt+"px"}},a.headerScrollerStyle=function(){return{height:b.config.headerRowHeight+"px"}},a.topPanelStyle=function(){return{height:a.topPanelHeight()+"px"}},a.headerStyle=function(){return{height:b.config.headerRowHeight+"px"}},a.groupPanelStyle=function(){return{height:"32px"}},a.viewportStyle=function(){return{height:a.viewportDimHeight()+"px"}},a.footerStyle=function(){return{height:a.footerRowHeight+"px"}}};i.directive("ngCellHasFocus",["$domUtilityService",function(a){var b=function(b,c){b.isFocused=!0,a.digest(b),b.$broadcast("ngGridEventStartCellEdit"),b.$emit("ngGridEventStartCellEdit"),b.$on("$destroy",b.$on("ngGridEventEndCellEdit",function(){b.isFocused=!1,a.digest(b)}))};return function(a,c){function d(b){return a.enableCellEditOnFocus?j=!0:c.focus(),!0}function e(d){a.enableCellEditOnFocus&&(d.preventDefault(),j=!1,b(a,c))}function f(d){return i=!0,a.enableCellEditOnFocus&&!j&&b(a,c),!0}function g(){return i=!1,!0}function h(d){return a.enableCellEditOnFocus||(i&&37!==d.keyCode&&38!==d.keyCode&&39!==d.keyCode&&40!==d.keyCode&&9!==d.keyCode&&!d.shiftKey&&13!==d.keyCode&&b(a,c),i&&d.shiftKey&&d.keyCode>=65&&d.keyCode<=90&&b(a,c),27===d.keyCode&&c.focus()),!0}var i=!1,j=!1;a.editCell=function(){a.enableCellEditOnFocus||setTimeout(function(){b(a,c)},0)},c.bind("mousedown",d),c.bind("click",e),c.bind("focus",f),c.bind("blur",g),c.bind("keydown",h),c.on("$destroy",function(){c.off("mousedown",d),c.off("click",e),c.off("focus",f),c.off("blur",g),c.off("keydown",h)})}}]),i.directive("ngCellText",function(){return function(a,b){function c(a){a.preventDefault()}function d(a){a.preventDefault()}b.bind("mouseover",c),b.bind("mouseleave",d),b.on("$destroy",function(){b.off("mouseover",c),b.off("mouseleave",d)})}}),i.directive("ngCell",["$compile","$domUtilityService","$utilityService",function(a,c,d){return{scope:!1,compile:function(){return{pre:function(c,e){var f,g=c.col.cellTemplate.replace(/COL_FIELD/g,d.preEval("row.entity."+c.col.field));c.col.enableCellEdit?(f=c.col.cellEditTemplate,f=f.replace(/CELL_EDITABLE_CONDITION/g,c.col.cellEditableCondition),f=f.replace(/DISPLAY_CELL_TEMPLATE/g,g),f=f.replace(/EDITABLE_CELL_TEMPLATE/g,c.col.editableCellTemplate.replace(/COL_FIELD/g,d.preEval("row.entity."+c.col.field)))):f=g;var h=b(f);e.append(h),a(h)(c),c.enableCellSelection&&h[0].className.indexOf("ngSelectionCell")===-1&&(h[0].setAttribute("tabindex",0),h.addClass("ngCellElement"))},post:function(a,b){a.enableCellSelection&&a.domAccessProvider.selectionHandlers(a,b),a.$on("$destroy",a.$on("ngGridEventDigestCell",function(){c.digest(a)}))}}}}}]),i.directive("ngEditCellIf",[function(){return{transclude:"element",priority:1e3,terminal:!0,restrict:"A",compile:function(a,b,c){return function(a,b,d){var e,f;a.$on("$destroy",a.$watch(d.ngEditCellIf,function(d){e&&(e.remove(),e=void 0),f&&(f.$destroy(),f=void 0),d&&(f=a.$new(),c(f,function(a){e=a,b.after(a)}))}))}}}}]),i.directive("ngGridFooter",["$compile","$templateCache",function(a,b){return{scope:!1,compile:function(){return{pre:function(c,d){0===d.children().length&&d.append(a(b.get(c.gridId+"footerTemplate.html"))(c))}}}}}]),i.directive("ngGridMenu",["$compile","$templateCache",function(a,b){return{scope:!1,compile:function(){return{pre:function(c,d){0===d.children().length&&d.append(a(b.get(c.gridId+"menuTemplate.html"))(c))}}}}}]),i.directive("ngGrid",["$compile","$filter","$templateCache","$sortService","$domUtilityService","$utilityService","$timeout","$parse","$http","$q",function(a,d,e,f,g,h,i,j,k,l){return{scope:!0,compile:function(){return{pre:function(m,o,s){var t=b(o),u=m.$eval(s.ngGrid);u.gridDim=new n({outerHeight:b(t).height(),outerWidth:b(t).width()});var v=new r(m,u,f,g,d,e,h,i,j,k,l);return m.$on("$destroy",function(){u.gridDim=null,u.selectRow=null,u.selectItem=null,u.selectAll=null,u.selectVisible=null,u.groupBy=null,u.sortBy=null,u.gridId=null,u.ngGrid=null,u.$gridScope=null,u.$gridServices=null,m.domAccessProvider.grid=null,angular.element(v.styleSheet).remove(),v.styleSheet=null}),v.init().then(function(){if("string"==typeof u.columnDefs?m.$on("$destroy",m.$parent.$watch(u.columnDefs,function(a){if(!a)return v.refreshDomSizes(),void v.buildColumns();v.lateBoundColumns=!1,m.columns=[],v.config.columnDefs=a,v.buildColumns(),v.eventProvider.assignEvents(),g.RebuildGrid(m,v)},!0)):v.buildColumns(),"string"==typeof u.totalServerItems?m.$on("$destroy",m.$parent.$watch(u.totalServerItems,function(a,b){angular.isDefined(a)?m.totalServerItems=a:m.totalServerItems=0})):m.totalServerItems=0,"string"==typeof u.data){var d=function(a){v.data=b.extend([],a),v.rowFactory.fixRowCache(),angular.forEach(v.data,function(a,b){var c=v.rowMap[b]||b;v.rowCache[c]&&v.rowCache[c].ensureEntity(a),v.rowMap[c]=b}),v.searchProvider.evalFilter(),v.configureColumnWidths(),v.refreshDomSizes(),v.config.sortInfo.fields.length>0&&(v.sortColumnsInit(),m.$emit("ngGridEventSorted",v.config.sortInfo)),m.$emit("ngGridEventData",v.gridId)};m.$on("$destroy",m.$parent.$watch(u.data,d)),m.$on("$destroy",m.$parent.$watch(u.data+".length",function(){d(m.$eval(u.data)),m.adjustScrollTop(v.$viewport.scrollTop(),!0)}))}return v.footerController=new q(m,v),o.addClass("ngGrid").addClass(v.gridId.toString()),u.enableHighlighting||o.addClass("unselectable"),u.jqueryUITheme&&o.addClass("ui-widget"),o.append(a(e.get("gridTemplate.html"))(m)),g.AssignGridContainers(m,o,v),v.eventProvider=new p(v,m,g,i),u.selectRow=function(a,b){v.rowCache[a]&&(v.rowCache[a].setSelection(!!b),v.rowCache[a].clone&&v.rowCache[a].clone.setSelection(!!b))},u.selectItem=function(a,b){u.selectRow(v.rowMap[a],b)},u.selectAll=function(a){m.toggleSelectAll(a)},u.selectVisible=function(a){m.toggleSelectAll(a,!0)},u.groupBy=function(a){if(a)m.groupBy(m.columns.filter(function(b){return b.field===a})[0]);else{var c=b.extend(!0,[],m.configGroups);angular.forEach(c,m.groupBy)}},u.expandGroup=function(a,b){var c;a&&v.rowFactory.aggCache.some(function(d){return!(!d||d.field!==a||d.label!==b)&&(c=d,!0)}),c&&c.toggleExpand()},u.sortBy=function(a,b){var d=m.columns.filter(function(b){return b.field===a})[0];d&&(b&&(d.sortDirection=b===c?"desc":c),d.sort())},u.gridId=v.gridId,u.ngGrid=v,u.$gridScope=m,u.$gridServices={SortService:f,DomUtilityService:g,UtilityService:h},m.$on("$destroy",m.$on("ngGridEventDigestGrid",function(){g.digest(m.$parent)})),m.$on("$destroy",m.$on("ngGridEventDigestGridParent",function(){g.digest(m.$parent)})),m.$evalAsync(function(){m.adjustScrollLeft(0)}),angular.forEach(u.plugins,function(a){"function"==typeof a&&(a=new a);var b=m.$new();a.init(b,v,u.$gridServices),u.plugins[h.getInstanceType(a)]=a,m.$on("$destroy",function(){b.$destroy()})}),"function"==typeof u.init&&u.init(v,m),null})}}}}}]),i.directive("ngHeaderCell",["$compile",function(a){return{scope:!1,compile:function(){return{pre:function(b,c){c.append(a(b.col.headerCellTemplate)(b))}}}}}]),i.directive("ngHeaderRow",["$compile","$templateCache",function(a,b){return{scope:!1,compile:function(){return{pre:function(c,d){0===d.children().length&&d.append(a(b.get(c.gridId+"headerRowTemplate.html"))(c))}}}}}]),i.directive("ngInput",[function(){return{require:"ngModel",link:function(a,b,c,d){function e(c){switch(c.keyCode){case 37:case 38:case 39:case 40:c.stopPropagation();break;case 27:a.$$phase||a.$apply(function(){d.$setViewValue(h),b.blur()});break;case 13:(a.enableCellEditOnFocus&&a.totalFilteredItemsLength()-1>a.row.rowIndex&&a.row.rowIndex>0||a.col.enableCellEdit)&&b.blur()}return!0}function f(a){a.stopPropagation()}function g(a){a.stopPropagation()}var h,i=a.$watch("ngModel",function(){h=d.$modelValue,i()});b.bind("keydown",e),b.bind("click",f),b.bind("mousedown",g),b.on("$destroy",function(){b.off("keydown",e),b.off("click",f),b.off("mousedown",g)}),a.$on("$destroy",a.$on("ngGridEventStartCellEdit",function(){b.focus(),b.select()})),angular.element(b).bind("blur",function(){a.$emit("ngGridEventEndCellEdit")})}}}]),i.directive("ngRow",["$compile","$domUtilityService","$templateCache",function(a,b,c){return{scope:!1,compile:function(){return{pre:function(d,e){if(d.row.elm=e,d.row.clone&&(d.row.clone.elm=e),d.row.isAggRow){var f=c.get(d.gridId+"aggregateTemplate.html");f=d.row.aggLabelFilter?f.replace(/CUSTOM_FILTERS/g,"| "+d.row.aggLabelFilter):f.replace(/CUSTOM_FILTERS/g,""),e.append(a(f)(d))}else e.append(a(c.get(d.gridId+"rowTemplate.html"))(d));d.$on("$destroy",d.$on("ngGridEventDigestRow",function(){b.digest(d)}))}}}}}]),i.directive("ngViewport",[function(){return function(a,b){function c(b){var c=b.target.scrollLeft,d=b.target.scrollTop;return a.$headerContainer&&a.$headerContainer.scrollLeft(c),a.adjustScrollLeft(c),a.adjustScrollTop(d),a.forceSyncScrolling?i():(clearTimeout(g),g=setTimeout(i,150)),f=c,h=d,e=!1,!0}function d(){return e=!0,b.focus&&b.focus(),!0}var e,f,g,h=0,i=function(){a.$root.$$phase||a.$digest()};b.bind("scroll",c),b.bind("mousewheel DOMMouseScroll",d),b.on("$destroy",function(){b.off("scroll",c),b.off("mousewheel DOMMouseScroll",d)}),a.enableCellSelection||a.domAccessProvider.selectionHandlers(a,b)}}]),a.ngGrid.i18n.da={ngAggregateLabel:"artikler",ngGroupPanelDescription:"Grupér rækker udfra en kolonne ved at trække dens overskift hertil.",ngSearchPlaceHolder:"Søg...",ngMenuText:"Vælg kolonner:",ngShowingItemsLabel:"Viste rækker:",ngTotalItemsLabel:"Rækker totalt:",ngSelectedItemsLabel:"Valgte rækker:",ngPageSizeLabel:"Side størrelse:",ngPagerFirstTitle:"Første side",ngPagerNextTitle:"Næste side",ngPagerPrevTitle:"Forrige side",ngPagerLastTitle:"Sidste side"},a.ngGrid.i18n.de={ngAggregateLabel:"eintrag",ngGroupPanelDescription:"Ziehen Sie eine Spaltenüberschrift hierhin um nach dieser Spalte zu gruppieren.",ngSearchPlaceHolder:"Suche...",ngMenuText:"Spalten auswählen:",ngShowingItemsLabel:"Zeige Einträge:",ngTotalItemsLabel:"Einträge gesamt:",ngSelectedItemsLabel:"Ausgewählte Einträge:",ngPageSizeLabel:"Einträge pro Seite:",ngPagerFirstTitle:"Erste Seite",ngPagerNextTitle:"Nächste Seite",ngPagerPrevTitle:"Vorherige Seite",ngPagerLastTitle:"Letzte Seite"},a.ngGrid.i18n.en={ngAggregateLabel:"items",ngGroupPanelDescription:"Drag a column header here and drop it to group by that column.",ngSearchPlaceHolder:"Search...",ngMenuText:"Choose Columns:",ngShowingItemsLabel:"Showing Items:",ngTotalItemsLabel:"Total Items:",ngSelectedItemsLabel:"Selected Items:",ngPageSizeLabel:"Page Size:",ngPagerFirstTitle:"First Page",ngPagerNextTitle:"Next Page",ngPagerPrevTitle:"Previous Page",ngPagerLastTitle:"Last Page"},a.ngGrid.i18n.es={ngAggregateLabel:"Artículos",ngGroupPanelDescription:"Arrastre un encabezado de columna aquí y soltarlo para agrupar por esa columna.",ngSearchPlaceHolder:"Buscar...",ngMenuText:"Elegir columnas:",ngShowingItemsLabel:"Artículos Mostrando:",ngTotalItemsLabel:"Artículos Totales:",ngSelectedItemsLabel:"Artículos Seleccionados:",ngPageSizeLabel:"Tamaño de Página:",ngPagerFirstTitle:"Primera Página",ngPagerNextTitle:"Página Siguiente",ngPagerPrevTitle:"Página Anterior",ngPagerLastTitle:"Última Página"},a.ngGrid.i18n.fa={ngAggregateLabel:"موردها",ngGroupPanelDescription:"یک عنوان ستون اینجا را بردار و به گروهی از آن ستون بیانداز.",ngSearchPlaceHolder:"جستجو...",ngMenuText:"انتخاب ستون‌ها:",ngShowingItemsLabel:"نمایش موردها:",ngTotalItemsLabel:"همهٔ موردها:",ngSelectedItemsLabel:"موردهای انتخاب‌شده:",ngPageSizeLabel:"اندازهٔ صفحه:",ngPagerFirstTitle:"صفحهٔ اول",ngPagerNextTitle:"صفحهٔ بعد",ngPagerPrevTitle:"صفحهٔ قبل",ngPagerLastTitle:"آخرین صفحه"},a.ngGrid.i18n.fr={ngAggregateLabel:"articles",ngGroupPanelDescription:"Faites glisser un en-tête de colonne ici et déposez-le vers un groupe par cette colonne.",ngSearchPlaceHolder:"Recherche...",ngMenuText:"Choisir des colonnes:",ngShowingItemsLabel:"Articles Affichage des:",ngTotalItemsLabel:"Nombre total d'articles:",ngSelectedItemsLabel:"Éléments Articles:",ngPageSizeLabel:"Taille de page:",ngPagerFirstTitle:"Première page",ngPagerNextTitle:"Page Suivante",ngPagerPrevTitle:"Page précédente",ngPagerLastTitle:"Dernière page"},a.ngGrid.i18n.nl={ngAggregateLabel:"items",ngGroupPanelDescription:"Sleep hier een kolomkop om op te groeperen.",ngSearchPlaceHolder:"Zoeken...",ngMenuText:"Kies kolommen:",ngShowingItemsLabel:"Toon items:",ngTotalItemsLabel:"Totaal items:",ngSelectedItemsLabel:"Geselecteerde items:",ngPageSizeLabel:"Pagina grootte:, ",ngPagerFirstTitle:"Eerste pagina",ngPagerNextTitle:"Volgende pagina",ngPagerPrevTitle:"Vorige pagina",ngPagerLastTitle:"Laatste pagina"},a.ngGrid.i18n["pt-br"]={ngAggregateLabel:"itens",ngGroupPanelDescription:"Arraste e solte uma coluna aqui para agrupar por essa coluna",ngSearchPlaceHolder:"Procurar...",ngMenuText:"Selecione as colunas:",ngShowingItemsLabel:"Mostrando os Itens:",ngTotalItemsLabel:"Total de Itens:",ngSelectedItemsLabel:"Items Selecionados:",ngPageSizeLabel:"Tamanho da Página:",ngPagerFirstTitle:"Primeira Página",ngPagerNextTitle:"Próxima Página",ngPagerPrevTitle:"Página Anterior",ngPagerLastTitle:"Última Página"},a.ngGrid.i18n.ru={ngAggregateLabel:"записи",ngGroupPanelDescription:"Перетащите сюда заголовок колонки для группировки по этой колонке.",ngSearchPlaceHolder:"Искать...",ngMenuText:"Выберите столбцы:",ngShowingItemsLabel:"Показаны записи:",ngTotalItemsLabel:"Всего записей:",ngSelectedItemsLabel:"Выбранные записи:",ngPageSizeLabel:"Строк на странице:",ngPagerFirstTitle:"Первая страница",ngPagerNextTitle:"Следующая страница",ngPagerPrevTitle:"Предыдущая страница",ngPagerLastTitle:"Последняя страница"},a.ngGrid.i18n["zh-cn"]={ngAggregateLabel:"条目",ngGroupPanelDescription:"拖曳表头到此处以进行分组",ngSearchPlaceHolder:"搜索...",ngMenuText:"数据分组与选择列：",ngShowingItemsLabel:"当前显示条目：",ngTotalItemsLabel:"条目总数：",ngSelectedItemsLabel:"选中条目：",ngPageSizeLabel:"每页显示数：",ngPagerFirstTitle:"回到首页",ngPagerNextTitle:"下一页",ngPagerPrevTitle:"上一页",ngPagerLastTitle:"前往尾页"},a.ngGrid.i18n["zh-tw"]={ngAggregateLabel:"筆",ngGroupPanelDescription:"拖拉表頭到此處以進行分組",ngSearchPlaceHolder:"搜尋...",ngMenuText:"選擇欄位：",ngShowingItemsLabel:"目前顯示筆數：",ngTotalItemsLabel:"總筆數：",ngSelectedItemsLabel:"選取筆數：",ngPageSizeLabel:"每頁顯示：",ngPagerFirstTitle:"第一頁",ngPagerNextTitle:"下一頁",ngPagerPrevTitle:"上一頁",ngPagerLastTitle:"最後頁"},angular.module("ngGrid").run(["$templateCache",function(a){
a.put("aggregateTemplate.html",'<div id="group-header-container" ng-style="rowStyle(row)" style="overflow:hidden;"; class="ngAggregate">\r\n<div ng-style="{height: rowHeight}" class="uyAggregateText" ng-show="multiSelect" ng-click="selectAggregate(row.getAggregateSelectArg(true));">\r\n<div id="group-check-container" style="display:table-cell; vertical-align:middle; height:inherit;">\r<div style="line-height:1em"><input type="checkbox" style="margin: 0 10px 0 2px; cursor: pointer" ng-checked="row.getCheckState();" /></div>\r\n</div>\r\n</div>\r\n    <div style="display:inline-block; float:left;" ng-click="row.toggleExpand()" ><div id="group-arrow-container" class="{{row.aggClass()}}" ng-style="{height: rowHeight}"></div></div>\r\n<div ng-style="{height: rowHeight}" class="uyAggregateText" ng-click="row.toggleExpand()" >\r\n<div id="group-text-container" style="display:table-cell; vertical-align:middle; height:inherit; padding-bottom:2px">{{row.label CUSTOM_FILTERS}} ({{row.totalChildren()}}{{AggItemsLabel}})</div>\r\n</div>\r\n<div class="uyAggLineContainer" ng-style="{height: rowHeight}">\r\n<div id="group-line-container" class="uyAggLine"></div>\r\n</div>\r\n</div>\r\n'),a.put("cellEditTemplate.html",'<div ng-cell-has-focus ng-dblclick="CELL_EDITABLE_CONDITION && editCell()">\r\n\t<div ng-edit-cell-if="!(isFocused && CELL_EDITABLE_CONDITION)">\t\r\n\t\tDISPLAY_CELL_TEMPLATE\r\n\t</div>\r\n\t<div ng-edit-cell-if="isFocused && CELL_EDITABLE_CONDITION">\r\n\t\tEDITABLE_CELL_TEMPLATE\r\n\t</div>\r\n</div>\r\n'),a.put("cellTemplate.html",'<div id="data-cell-container" class="ngCellText" ng-class="col.colIndex()"><span id="text-container" ng-cell-text>{{COL_FIELD CUSTOM_FILTERS}}</span></div>'),a.put("checkboxCellTemplate.html",'<div class="ngSelectionCell"><input tabindex="-1" class="ngSelectionCheckbox" type="checkbox" ng-checked="row.selected" /></div>'),a.put("checkboxHeaderTemplate.html",'<input class="ngSelectionHeader" type="checkbox" ng-show="multiSelect" ng-model="allSelected" ng-change="toggleSelectAll(allSelected, true)"/>'),a.put("editableCellTemplate.html",'<input ng-class="\'colt\' + col.index" ng-input="COL_FIELD" ng-model="COL_FIELD" />'),a.put("footerTemplate.html",'<div ng-show="showFooter" class="ngFooterPanel" ng-class="{\'ui-widget-content\': jqueryUITheme, \'ui-corner-bottom\': jqueryUITheme}" style="width:100%" ng-style="footerStyle()">\r\n    <div class="ngTotalSelectContainer" >\r\n        <div class="ngFooterTotalItems" ng-class="{\'ngNoMultiSelect\': !multiSelect}" >\r\n            <span class="ngLabel">{{\'pager.total-items\' | translate}}: {{maxRows()}}</span><span ng-show="filterText.length > 0" class="ngLabel">({{\'pager.filtered-items\' | translate}}: {{totalFilteredItemsLength()}})</span>\r\n        </div>\r\n        <div class="ngFooterSelectedItems" ng-show="multiSelect">\r\n            <span class="ngLabel">{{\'pager.selected-items\' | translate}}: {{selectedItems.length}}</span>\r\n        </div>\r\n    </div>\r\n    <div class="ngPagerContainer" style="float: right; margin-top: 10px;" ng-show="enablePaging" ng-class="{\'ngNoMultiSelect\': !multiSelect}">\r\n        <div style="float:left; margin-right: 10px;" class="ngRowCountPicker">\r\n            <span style="float: left; margin-top: 3px; margin-right: 1px;" class="ngLabel">{{\'pager.page-size\' | translate}}:</span>\r\n            <select style="float: left;height: 27px; width: 100px" ng-model="pagingOptions.pageSize" class="uyRowCountSelect" ng-options="pageSize for pageSize in pagingOptions.pageSizes" >\r\n\n            </select>\r\n        </div>\r\n        <div style="float:left; margin-right: 10px;" class="ngPagerControl" style="float: left; min-width: 135px;">\r\n            <button type="button" class="ngPagerButton" ng-click="pageToFirst()" ng-disabled="cantPageBackward()" title="{{\'pager.page-first\' | translate}}"><div class="ngPagerFirstTriangle"><div class="ngPagerFirstBar"></div></div></button>\r\n            <button type="button" class="ngPagerButton" ng-click="pageBackward()" ng-disabled="cantPageBackward()" title="{{\'pager.page-prev\' | translate}}"><div class="ngPagerFirstTriangle ngPagerPrevTriangle"></div></button>\r\n            <div style="display:inline-block; vertical-align:top;">\n                <input class="ngPagerCurrent" min="1" max="{{currentMaxPages}}" type="number" style="width:50px; height: 25px; padding: 0 4px;" ng-model="pagingOptions.currentPage"/>\r\n                <span class="ngGridMaxPagesNumber" ng-show="maxPages() > 0">/ {{maxPages()}}</span>\r\n            </div>\n            <button type="button" class="ngPagerButton" ng-click="pageForward()" ng-disabled="cantPageForward()" title="{{\'pager.page-next\' | translate}}"><div class="ngPagerLastTriangle ngPagerNextTriangle"></div></button>\r\n            <button type="button" class="ngPagerButton" ng-click="pageToLast()" ng-disabled="cantPageToLast()" title="{{\'pager.page-last\' | translate}}"><div class="ngPagerLastTriangle"><div class="ngPagerLastBar"></div></div></button>\r\n        </div>\r\n    </div>\r\n</div>\r\n'),a.put("gridTemplate.html",'<div id="header-container" class="ngTopPanel" ng-class="{\'ui-widget-header\':jqueryUITheme, \'ui-corner-top\': jqueryUITheme}" style="width:100%" ng-style="topPanelStyle()">\r\n    <div class="ngGroupPanel" ng-show="showGroupPanel()" style="width:100%" ng-style="groupPanelStyle()">\r\n        <div class="ngGroupPanelDescription" ng-show="configGroups.length == 0">{{i18n.ngGroupPanelDescription}}</div>\r\n        <ul ng-show="configGroups.length > 0" class="ngGroupList">\r\n            <li class="ngGroupItem" ng-repeat="group in configGroups">\r\n                <span class="ngGroupElement">\r\n                    <span class="ngGroupName">{{group.displayName}}\r\n                        <span ng-click="removeGroup($index)" class="ngRemoveGroup">x</span>\r\n                    </span>\r\n                    <span ng-hide="$last" class="ngGroupArrow"></span>\r\n                </span>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n    <div class="ngHeaderContainer" style="width:100%" ng-style="headerStyle()">\r\n        <div ng-header-row class="ngHeaderScroller" ng-style="headerScrollerStyle()"></div>\r\n    </div>\r\n    <div ng-grid-menu></div>\r\n</div>\r\n<div id="data-container" class="ngViewport" unselectable="on" ng-viewport ng-class="{\'ui-widget-content\': jqueryUITheme}" style="width:100%" ng-style="viewportStyle()">\r\n    <div class="ngCanvas" ng-style="canvasStyle()">\r\n        <span id="no-data-message-container" class="uyNoDataMessage" ng-if="renderedRows.length===0">{{noDataMessage}}</span>\r        <div id="data-row-container" ng-style="rowStyle(row)" ng-repeat="row in renderedRows" ng-click="row.toggleSelected($event)" ng-class="row.alternatingRowClass()" ng-row></div>\r\n    </div>\r\n</div>\r\n<div id="footer-container" ng-grid-footer></div>\r\n'),a.put("headerCellTemplate.html",'<div class="ngHeaderSortColumn {{col.headerClass}}" ng-style="{\'cursor\': col.cursor}" ng-class="{ \'ngSorted\': !col.noSortVisible() }">\r\n    <div id="header-sort-button" ng-click="col.sort($event)" ng-class="\'colt\' + col.index" class="ngHeaderText">{{col.displayName}}</div>\r\n    <div class="ngSortButtonDown" ng-click="col.sort($event)" ng-show="col.showSortButtonDown()"></div>\r\n    <div class="ngSortButtonUp" ng-click="col.sort($event)" ng-show="col.showSortButtonUp()"></div>\r\n    <div class="ngSortPriority">{{col.sortPriority}}</div>\r\n    <div ng-class="{ ngPinnedIcon: col.pinned, ngUnPinnedIcon: !col.pinned }" ng-click="togglePin(col)" ng-show="col.pinnable"></div>\r\n</div>\r\n<div id="header-resize-button" ng-show="col.resizable" class="ngHeaderGrip" ng-click="col.gripClick($event)" ng-mousedown="col.gripOnMouseDown($event)"></div>\r\n'),a.put("headerRowTemplate.html",'<div ng-style="{ height: col.headerRowHeight }" ng-repeat="col in renderedColumns" ng-class="col.colIndex()" class="ngHeaderCell">\r\n\t<div class="ngVerticalBar" ng-style="{height: col.headerRowHeight}" ng-class="{ ngVerticalBarVisible: !$last }">&nbsp;</div>\r\n\t<div ng-header-cell></div>\r\n</div>'),a.put("menuTemplate.html",'<div ng-show="showColumnMenu || showFilter"  class="ngHeaderButton" ng-click="toggleShowMenu()">\r\n    <div class="ngHeaderButtonArrow"></div>\r\n</div>\r\n<div ng-show="showMenu" class="ngColMenu">\r\n    <div ng-show="showFilter">\r\n        <input placeholder="{{i18n.ngSearchPlaceHolder}}" type="text" ng-model="filterText"/>\r\n    </div>\r\n    <div ng-show="showColumnMenu">\r\n        <span class="ngMenuText">{{i18n.ngMenuText}}</span>\r\n        <ul class="ngColList">\r\n            <li class="ngColListItem" ng-repeat="col in columns | ngColumns">\r\n                <label><input ng-disabled="col.pinned" type="checkbox" class="ngColListCheckbox" ng-model="col.visible"/>{{col.displayName}}</label>\r\n\t\t\t\t<a title="Group By" ng-class="col.groupedByClass()" ng-show="col.groupable && col.visible" ng-click="groupBy(col)"></a>\r\n\t\t\t\t<span class="ngGroupingNumber" ng-show="col.groupIndex > 0">{{col.groupIndex}}</span>          \r\n            </li>\r\n        </ul>\r\n    </div>\r\n</div>'),a.put("rowTemplate.html",'<div ng-style="{ \'cursor\': row.cursor }" ng-repeat="col in renderedColumns" ng-class="col.colIndex()" class="ngCell {{col.cellClass}}">\r\n\t<div class="ngVerticalBar" ng-style="{height: rowHeight}" ng-class="{ ngVerticalBarVisible: !$last }">&nbsp;</div>\r\n\t<div ng-cell ng-style="{height: rowHeight}"></div>\r\n</div>')}])}(window,jQuery);