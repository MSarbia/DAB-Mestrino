/* Version 1.3.0, Boot version 1.3.0, copyright (C) 2017, Siemens AG. All Rights Reserved. */
var SWACBoot=SWACBoot||function(){var a="pending",b=-1,c=window.parent,d=null,e=null,f={},g=[],h=function(){window.clearTimeout(b),window.removeEventListener?window.removeEventListener("message",d):window.detachEvent("onmessage",d)},i=function(a,b,c){var d=document.createElement("script");d.setAttribute("type","text/javascript"),d.setAttribute("src",a),(b||c)&&(d.addEventListener?(b&&d.addEventListener("load",b),c&&d.addEventListener("error",c)):b&&(d.onreadystatechange=function(){"loaded"===this.readyState||"complete"===this.readyState?b():c&&c()})),document.getElementsByTagName("head")[0].appendChild(d)},j=function(a){return JSON.stringify({t:"boot",c:a})},k=function(b,d,k){var l,m,n,o,p,q,r={},s=null;if("waiting"===a||"ok"===a){if("string"==typeof b.data&&b.data.length>0){try{if(r=JSON.parse(b.data),!(r&&r.t&&r.c))throw new Error("Incompatible message received");if("boot"!==r.t)throw new Error("Unknown message received: "+r.t)}catch(t){return}if(m=function(){a="failed",h(),k({message:"Failed to load SWAC.Config.Container.URLs library"}),c.postMessage(j({message:"failed"}),"*")},"boot"===r.t&&"pong"===r.c.message){if(n=function(){SWAC.isContainer=!1,a="ok",e=r.c,e.containerVersion=e.containerVersion||"1.0.0",c.postMessage(j({message:"ok"}),"*")},p=function(){var a,b=g.length;0===b?n():(a=g.pop(),"undefined"==typeof defineExtension?(s=/^\s+|\s+$/g,void 0===a||null===a||""===a.replace(s,"")?m():(l=function(){"undefined"!=typeof defineExtension?p():m()},i(a,l,m)),s=null):r.c.extensions.length===b?p():i(a,p,m))},r.c.extensions)for(q in r.c.extensions)r.c.extensions.hasOwnProperty(q)&&g.unshift(r.c.extensions[q]);"undefined"!=typeof SWAC?p():(s=/^\s+|\s+$/g,void 0===r.c.url||null===r.c.url||""===r.c.url.replace(s,"")?m():(l=function(){"undefined"!=typeof SWAC||"undefined"!=typeof r.c.namespace&&"undefined"!=typeof window[r.c.namespace]?p():m()},a="upgrading",i(r.c.url,l,m)),s=null)}else if("boot"===r.t&&"ok2"===r.c.message){a="done",h();for(o in e)e.hasOwnProperty(o)&&(f[o]=e[o]);e.message="SWAC successfully loaded",e.auth=e.authentication,delete e.authentication,delete e.url,delete e.extensions,delete e.namespace,delete e._internal,SWAC.Hub.prototype.containerVersion=e.containerVersion,d(e)}else"boot"===r.t&&"peng"===r.c.message&&(h(),k({message:r.c.reason}))}}else h()},l=function(e,f,g,i,l){g=g||"*",l=l||1e3,f=f||function(){},i=i||"no",c===self?(a="failed",window.setTimeout(function(){f({message:"Component is not embedded into an iframe"})},0)):(d=function(a){k(a,e,f)},a="waiting",window.addEventListener?window.addEventListener("message",d,!1):window.attachEvent("onmessage",d),b=window.setTimeout(function(){"done"!==a&&(a="timedout",h(),f({message:"Bootload sequence timed out"}))},l),c.postMessage(j({message:"ping",version:g,authentication:i,attributes:arguments[5],extensions:arguments[6]}),"*"))};return{start:l,_internal:{containerInfo:f}}}();SWACBoot.version="1.3.0";